{% extends "base.html" %}
{% block title %}Home{% endblock title %}

{% block content %}
<div class="row">
    <div class="col-md-6 mx-auto">
        <div class="accordion" id="task-listing">
            {% for module in modules %}
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <!-- TODO: If all done, tick here and close. -->
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#module{{ module.id }}">
                        {{ module.module_number }}. {{ module.name }}
                    </button>
                </h2>
                <div id="module{{ module.id }}" class="accordion-collapse collapse show">
                    <div class="accordion-body">
                        <ul class="list-group">
                            {% for task in module.tasks | sort(attribute='task_number') %}
                            <a href="{{ url_for('task_bp.task', module_id=module.id, task_number=task.task_number) }}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                <div class="fw-bold">{{ module.module_number }}.{{ task.task_number }}</div> {{ task.title }}
                                <!-- TODO: Un-hardcode -->
                                <span class="badge bg-success rounded-pill">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check" viewBox="0 0 16 16">
                                        <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
                                    </svg>
                                </span>
                            </a>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock content %}